........................................................................ [  1%]
........................................................................ [  2%]
........................................................................ [  4%]
........................................................................ [  5%]
........................................................................ [  7%]
........................................................................ [  8%]
........................................................................ [ 10%]
........................................................................ [ 11%]
........................................................................ [ 12%]
........................................................................ [ 14%]
........................................................................ [ 15%]
........................................................................ [ 17%]
........................................................................ [ 18%]
........................................................................ [ 20%]
........................................................................ [ 21%]
........................................................................ [ 22%]
........................................................................ [ 24%]
........................................................................ [ 25%]
........................................................................ [ 27%]
........................................................................ [ 28%]
........................................................................ [ 30%]
........................................................................ [ 31%]
........................................................................ [ 33%]
........................................................................ [ 34%]
........................................................................ [ 35%]
........................................................................ [ 37%]
........................................................................ [ 38%]
........................................................................ [ 40%]
........................................................................ [ 41%]
........................................................................ [ 43%]
........................................................................ [ 44%]
........................................................................ [ 45%]
........................................................................ [ 47%]
........................................................................ [ 48%]
........................................................................ [ 50%]
........................................................................ [ 51%]
........................................................................ [ 53%]
........................................................................ [ 54%]
........................................................................ [ 55%]
........................................................................ [ 57%]
........................................................................ [ 58%]
........................................................................ [ 60%]
........................................................................ [ 61%]
........................................................................ [ 63%]
........................................................................ [ 64%]
........................................................................ [ 66%]
........................................................................ [ 67%]
........................................................................ [ 68%]
........................................................................ [ 70%]
........................................................................ [ 71%]
........................................................................ [ 73%]
........................................................................ [ 74%]
........................................................................ [ 76%]
........................................................................ [ 77%]
........................................................................ [ 78%]
........................................................................ [ 80%]
........................................................................ [ 81%]
........................................................................ [ 83%]
........................................................................ [ 84%]
........................................................................ [ 86%]
........................................................................ [ 87%]
........................................................................ [ 89%]
........................................................................ [ 90%]
........................................................................ [ 91%]
........................................................................ [ 93%]
........................................................................ [ 94%]
........................................................................ [ 96%]
........................................................................ [ 97%]
........................................................................ [ 99%]
...............................................                          [100%]

---------- coverage: platform darwin, python 3.12.2-final-0 ----------
Name                                                   Stmts   Miss Branch BrPart   Cover   Missing
---------------------------------------------------------------------------------------------------
app/__init__.py                                            3      0      0      0 100.00%
app/api/__init__.py                                        0      0      0      0 100.00%
app/api/admin.py                                         238      0     92      0 100.00%
app/api/ai_models.py                                     294      0    110      0 100.00%
app/api/auth.py                                           95      0     34      0 100.00%
app/api/content.py                                       207      0     66      0 100.00%
app/api/conversations.py                                 140      0     28      0 100.00%
app/api/feature_toggles.py                               215      0     73      0 100.00%
app/api/language_config.py                               214      0     56      0 100.00%
app/api/learning_analytics.py                            221      0     42      0 100.00%
app/api/ollama.py                                         44      0     16      0 100.00%
app/api/progress_analytics.py                            223      0     38      0 100.00%
app/api/realtime_analysis.py                             221      0     72      0 100.00%
app/api/scenario_management.py                           293      0     92      0 100.00%
app/api/scenarios.py                                     217      0     66      0 100.00%
app/api/tutor_modes.py                                   158      0     34      0 100.00%
app/api/visual_learning.py                               141      0     38      0 100.00%
app/core/__init__.py                                       0      0      0      0 100.00%
app/core/config.py                                        35      0      4      0 100.00%
app/core/security.py                                      64      0     16      0 100.00%
app/database/__init__.py                                   0      0      0      0 100.00%
app/database/chromadb_config.py                          115      0     26      0 100.00%
app/database/config.py                                   195      0     44      0 100.00%
app/database/local_config.py                             198      0     60      0 100.00%
app/database/migrations.py                               195      0     27      0 100.00%
app/frontend/__init__.py                                   3      0      0      0 100.00%
app/frontend/admin_ai_models.py                           25     15      2      0  37.04%   29-457, 572-575, 614-626, 739-750, 756, 903
app/frontend/admin_dashboard.py                           46      0      4      0 100.00%
app/frontend/admin_feature_toggles.py                     17      0      0      0 100.00%
app/frontend/admin_language_config.py                     42      0      2      0 100.00%
app/frontend/admin_learning_analytics.py                  25      0      4      0 100.00%
app/frontend/admin_routes.py                             135     10     62      0  94.92%   154-156, 215-217, 281, 373-375, 439-521
app/frontend/admin_scenario_management.py                 17      0      0      0 100.00%
app/frontend/chat.py                                       8      0      2      0 100.00%
app/frontend/content_view.py                               5      0      2      0 100.00%
app/frontend/diagnostic.py                                 7      0      2      0 100.00%
app/frontend/home.py                                      20      0      4      0 100.00%
app/frontend/layout.py                                    50      0     10      0 100.00%
app/frontend/learning_analytics_dashboard.py              61      0     16      0 100.00%
app/frontend/main.py                                      25      0      0      0 100.00%
app/frontend/profile.py                                    8      0      2      0 100.00%
app/frontend/progress.py                                   6      0      2      0 100.00%
app/frontend/progress_analytics_dashboard.py              69      0     14      0 100.00%
app/frontend/server.py                                     6      0      2      0 100.00%
app/frontend/styles.py                                     9      0      0      0 100.00%
app/frontend/user_ui.py                                   36      0      0      0 100.00%
app/frontend/visual_learning.py                           33      0     10      0 100.00%
app/frontend_main.py                                      20      0      2      0 100.00%
app/main.py                                               47      0      6      0 100.00%
app/models/__init__.py                                     0      0      0      0 100.00%
app/models/database.py                                   257      0     18      0 100.00%
app/models/feature_toggle.py                             148      0      6      0 100.00%
app/models/schemas.py                                    363      0     24      0 100.00%
app/models/simple_user.py                                 27      0      0      0 100.00%
app/services/__init__.py                                   0      0      0      0 100.00%
app/services/admin_auth.py                               223      0     68      0 100.00%
app/services/ai_model_manager.py                         352      0    120      0 100.00%
app/services/ai_router.py                                329      0    104      0 100.00%
app/services/ai_service_base.py                          106      0     26      0 100.00%
app/services/ai_test_suite.py                            215      0     26      0 100.00%
app/services/auth.py                                     263      0     72      0 100.00%
app/services/budget_manager.py                           237      0     80      0 100.00%
app/services/claude_service.py                           116      0     31      0 100.00%
app/services/content_processor.py                        399      0    131      0 100.00%
app/services/conversation_analytics.py                    48      0      6      0 100.00%
app/services/conversation_manager.py                      56      0     10      0 100.00%
app/services/conversation_messages.py                     95      0     24      0 100.00%
app/services/conversation_models.py                       67      0     18      0 100.00%
app/services/conversation_persistence.py                 143      0     44      0 100.00%
app/services/conversation_prompts.py                      28      0      6      0 100.00%
app/services/conversation_state.py                       102      0     30      0 100.00%
app/services/deepseek_service.py                         101      0     22      0 100.00%
app/services/feature_toggle_manager.py                   265      0     78      0 100.00%
app/services/feature_toggle_service.py                   451      0    202      0 100.00%
app/services/mistral_service.py                          100      0     14      0 100.00%
app/services/mistral_stt_service.py                      121      0     26      0 100.00%
app/services/ollama_service.py                           274      0    114      0 100.00%
app/services/piper_tts_service.py                        164      0     54      0 100.00%
app/services/progress_analytics_service.py               469      0    144      0 100.00%
app/services/realtime_analyzer.py                        314      0     78      0 100.00%
app/services/response_cache.py                           129      0     45      0 100.00%
app/services/scenario_factory.py                          61      0     14      0 100.00%
app/services/scenario_io.py                               47      0     16      0 100.00%
app/services/scenario_manager.py                         234      0     80      0 100.00%
app/services/scenario_models.py                          104      0     24      0 100.00%
app/services/scenario_templates.py                        30      0     18      0 100.00%
app/services/scenario_templates_extended.py               96      0     62      0 100.00%
app/services/spaced_repetition_manager.py                 58      0     11      0 100.00%
app/services/spaced_repetition_manager_refactored.py      58      0     11      0 100.00%
app/services/speech_processor.py                         576      0    170      0 100.00%
app/services/sr_algorithm.py                             156      0     50      0 100.00%
app/services/sr_analytics.py                              81      0     20      0 100.00%
app/services/sr_database.py                               98      0     42      0 100.00%
app/services/sr_gamification.py                           45      0     16      0 100.00%
app/services/sr_models.py                                128      0     20      0 100.00%
app/services/sr_sessions.py                              102      0     28      0 100.00%
app/services/sync.py                                     281      0     66      0 100.00%
app/services/tutor_mode_manager.py                       149      0     38      0 100.00%
app/services/user_management.py                          310      0     72      0 100.00%
app/services/visual_learning_service.py                  253      0     66      0 100.00%
app/utils/sqlite_adapters.py                              43      0     12      0 100.00%
---------------------------------------------------------------------------------------------------
TOTAL                                                  13318     25   3639      0  99.84%
Coverage HTML written to dir htmlcov

5015 passed in 213.36s (0:03:33)
